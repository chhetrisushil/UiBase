(function(e,t,n){function i(e){var t=Object.prototype.toString;return function(n){return t.call(n)===e}}function s(e){var t,n,r,i;if(Array.prototype.filter){t=Array.prototype.filter.call(this,e)}else{t=[];n=this.slice();r=n[0];i=0;for(;r=n.shift();i++){if(e.call(arguments[1]||this,r,i,this)){t.push(r)}}}return t}var r=e.JSgoodies;if(r){return}var o=false,u=false,a=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,f=function(){var t=this.prototype,r,i,s=arguments.length,o,u;if(!s){throw new Error("Class should implement at least one interface")}for(r=0;o=arguments[r],r<s;r++){if(!(o instanceof d)){throw new TypeError("Class should implement Type Interface")}}for(i=0;o=arguments[i];i++){for(var a=0,f;u=o.methods[a];a++){if(!t[u.method]||typeof t[u.method]!=="function"){throw new Error('This Class does not implement "'+o.name+'" interface. Method "'+u.method+'" was not found.')}else{u.args=l(t[u.method]);if(u.args.argsCount<u.argsCount){throw new Error('Minimum no. of expected parameter definition for method "'+u.method+'" is: '+u.argsCount+" instead only: "+u.args.argsCount+" was provided")}else{t[u.method]=!u.isTypeCheck?function(e,t,n){return function(){var r;if(arguments.length<n){throw new Error('Minimum no. of expected parameter for method "'+e+'" while calling is: '+n+" instead only: "+arguments.length+" was provided")}r=t.apply(this,arguments);return r}}(u.method,t[u.method],u.argsCount):function(t,r){var i=Object.prototype.toString,o=t.method,u=r[o],a=t.argsCount,f=function(e){if(typeof e==="undefined"){return"Undefined"}if(e===null){return"Null"}return i.call(e).match(/^\[object (.*)\]$/)[1]};return function(){var r,i,l,c;if(arguments.length<a){throw new Error('Minimum no. of expected parameter for method "'+o+'" while calling is: '+a+" instead only: "+arguments.length+" was provided")}for(i=0,s=t.types.length;i<s;i++){l=t.types[i].replace(/^\s+/,"").replace(/\s+$/,"");try{c=e["eval"].call(e,l)}catch(h){c=n}if(!~l.indexOf("|")){if(f(arguments[i]).toLowerCase()!==l.toLowerCase()&&!(f(arguments[i]).toLowerCase()==="function"?arguments[i]===c:arguments[i]&&arguments[i].constructor===c)){throw new TypeError('While calling Expected type for argument "'+t.args.argsName[i]+'" in method "'+t.method+'" is: "'+l+'" instead type: "'+f(arguments[i])+'" was provided')}}else{l=l.split("|");l[0]=l[0].replace(/^\s+/,"").replace(/\s+$/,"")||"undefined";l[1]=l[1].replace(/^\s+/,"").replace(/\s+$/,"")||"undefined";if(f(arguments[i]).toLowerCase()!==l[0].toLowerCase()&&f(arguments[i]).toLowerCase()!==l[1].toLowerCase()&&!(f(arguments[i]).toLowerCase()==="function"?arguments[i]===c:arguments[i]&&arguments[i].constructor===c)){throw new TypeError('While calling Expected type for argument "'+t.args.argsName[i]+'" in method "'+t.method+'" is: "'+l[0]+'" or "'+l[1]+'" instead type: "'+f(arguments[i])+'" was provided')}}}r=u.apply(this,arguments);return r}}(u,t)}}}}delete this._implements;return this},l=function(e){if(typeof e!=="function"){throw new TypeError("Expected argument type is function")}var t=e.toString(),n=/\((.*?)\)/,r=/(\/\*.*?\*\/)/g,i=n.exec(t)[1],s,o;i=i.replace(r,"");s=i?~i.indexOf(",")?(o=i.split(","),i.split(",").length):(o=i,1):0;return{argsName:o,argsCount:parseInt(s,10)}},c=function(e){var t=e;if(e instanceof d){throw new TypeError("Class cannot extend interface")}if(typeof e==="function"){o=true;t=new e;o=false}var n=Util.inherit(t,this.prototype);this.prototype.constructor=this;delete this._extends;return this};var h=function(e){var t=i("[object Object]"),n=i("[object Function]");if(!n(e)&&!t(e)){throw new TypeError("Class expects Object or Function")}if(n(e)){e=e.prototype}var r=function(){if(!o&&this.init)this.init.apply(this,arguments)};r.prototype=e;r._implements=f;r._extends=c;r.prototype.constructor=r;return r};var p=function(e){var t=i("[object Object]"),n=i("[object Function]");if(!n(e)&&!t(e)){throw new TypeError("AbstractClass expects Object or Function")}if(n(e)){e=e.prototype}var r=function(){if(!o){this.constructor=new function(){throw new Error("Trying to instantiate an Abstract Class")}}};r.prototype=e;r._implements=f;r._extends=c;r.prototype.constructor=r;return r};var d=function(e,t){var n=this,r=Object.prototype.toString,i=0,s,o,u=/\[(.*?)\]/;if(arguments.length!==2){throw new Error('Interface expects exactly 2 arugments "name" and "method" list')}if(!(this instanceof arguments.callee)){n=new arguments.callee(e,t)}if(r.call(e)!=="[object String]"){throw new TypeError("Interface name is suppose to be of Type String")}n.name=e;if(r.call(t)!=="[object Array]"){throw new TypeError("Method list is suppose to be of Type Array")}n.methods=[];for(;s=t[i];i++){if(r.call(s)!=="[object String]"){throw new TypeError("Method name is suppose to be of Type String")}s=s.split(":");o={method:s[0],argsCount:0,isTypeCheck:false,types:null};o.argsCount=!isNaN(parseInt(s[1],10))?parseInt(s[1],10):s[1]&&s[1]!=="[]"?(o.isTypeCheck=true,o.types=u.exec(s[1])[1].split(","),o.types[0]?o.types.length:0):0;n.methods.push(o)}};Util={override:function(e,t){var n=Object.prototype.hasOwnProperty;for(var r in t){e[r]=n.call(e,r)&&typeof t[r]==="function"&&typeof e[r]==="function"?function(t,n){var r=e[t];return function(){var t=e._super;e._super=r;var i=n.apply(e,arguments);e._super=t;return i}}(r,t[r]):t[r]}},inherit:function(e,t){var n=Object.prototype.toString,r=arguments.callee,i=Object.prototype.hasOwnProperty;for(var s in e){t[s]=i.call(t,s)&&typeof t[s]==="function"&&typeof e[s]==="function"?function(n,r){return function(){var i=t._super;t._super=e[n];var s=r.apply(t,arguments);t._super=i;return s}}(s,t[s]):i.call(t,s)?t[s]:n.call(e[s])==="[object Array]"?e[s].concat():n.call(e[s])==="[object Object]"?r(e[s],{}):e[s]}return t}};var v=i("[object String]"),m=i("[object Array]"),g=i("[object Function]"),y=Object.prototype.hasOwnProperty,b=new d("DummyInterface",[]);var w=h({__listeners__:null,__uidPrefix__:"Observable_UID_",__uid__:1,addObserver:function(e,t,n){if(!(e&&v(e))){throw new TypeError("expected type a non-empty String for eventName")}if(!(t&&g(t))){throw new TypeError("expected type Function for handler")}var r={type:e,handler:t,namespace:null,id:n||this.__uidPrefix__+this.__uid__++},i;~e.indexOf(".")&&(i=e.split("."),r.type=i.shift(),r.namespace=i.shift());!this.__listeners__&&(this.__listeners__={});!this.__listeners__[r.type]&&(this.__listeners__[r.type]=[]);this.__listeners__[r.type].push(r);return r.id},fireObserver:function(e,t){if(!(e&&v(e))){throw new TypeError("expected type a non-empty String for eventName")}if(!this.__listeners__){return}if(arguments.length>2||!m(t)){t=Array.prototype.slice.call(arguments,1)}var n,r,i;~e.indexOf(".")&&(r=e.split("."),e=r.shift(),n=r.shift());i=this.__listeners__[e]||[];if(n){i=s.call(i,function(e){return e.namespace===n})}i&&i.length&&this.__callAllHandlers__(e,i.slice(),t)},__callAllHandlers__:function(e,t,n){var r=t[0];for(;r=t.shift();){try{r.handler.apply(this,n)}catch(i){throw new Error("Exception"+i+" occured in listener call for event "+e+", listener "+r.handler.toString())}}},removeObserver:function(e,t){if(!(e&&v(e))){throw new TypeError("expected type a non-empty String for eventName")}if(!this.__listeners__){return}var n,r,i,o;~e.indexOf(".")&&(r=e.split("."),e=r.shift(),n=r.shift());i=v(t)?t:null;o=this.__listeners__[e]||[];if(!o.length){return}if(n){if(!i&&!t){this.__listeners__[e]=s.call(o,function(e){return e.namespace!==n})}else if(i){this.__listeners__[e]=s.call(o,function(e){return e.namespace!==n||e.id!==i})}else if(t){this.__listeners__[e]=s.call(o,function(e){return e.namespace!==n||e.handler!==t})}if(!this.__listeners__[e].length){delete this.__listeners__[e]}return}if(i){this.__listeners__[e]=s.call(o,function(e){return e.id!==i});if(!this.__listeners__[e].length){delete this.__listeners__[e]}}else if(t){this.__listeners__[e]=s.call(o,function(e){return e.handler!==t});if(!this.__listeners__[e].length){delete this.__listeners__[e]}}else{this.__listeners__[e]&&this.__listeners__[e].length&&delete this.__listeners__[e]}return},removeObserverByNamespace:function(e){var t;for(t in this.__listeners__){if(y.call(this.__listeners__,t)){this.__listeners__[t]=s.call(this.__listeners__[t],function(t){return t.namespace!==e});if(!this.__listeners__[t].length){delete this.__listeners__[t]}}}}})._extends({})._implements(b);e.JSgoodies={Class:h,ObservableClass:w,AbstractClass:p,Interface:d,Util:Util}})(this,this.document)